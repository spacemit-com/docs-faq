# 硬件常见问题

## 开发调试

1. **Muse Pi 的开发板使用指南在哪里获取？**

   - 开发文件统一在进迭开发者社区发布。以通过以下链接访问：
     [进迭开发者社区 - 开发文档](https://developer.spacemit.com/#/documentation?token=IraAwPDzPiLwFBkm3WBcwzmhnph&type=pdf)

2. **Muse Pi 如何连接串口和 JTAG 调试？**

   - **串口位置**
     Muse Pi 的串口是一个单排 3 pin 插针，位于 Wi-Fi 模组和 26 pin 插针之间。
   - **连接方式**
     板上丝印 TX pin 需要连接串口线的 RX 信号。
     板上丝印 RX pin 需要连接串口线的 TX 信号。
   - **串口调试要求**
     使用 3.3V 串口线进行调试，确保串口线支持 3.3V 信号。
     波特率：115200，确保串口调试工具设置为该波特率。
   - **PRI JTAG 调试**
     - PRI JTAG 位置：
       PRI JTAG 位于 26 pin 插针 7、11、13、15 号位置，分别对应 PRI\_TDI、PRI\_TMS、PRI\_TCK、PRI\_TDO。
     - PRI JTAG 连接方式：
       26 pin 插针中的 7、11、13、15 号按照信号名称对应连接 J-Link Pin 脚，1Pin 连接 Jlink 的 VREF 电源。
   - **SEC JTAG 调试**
     - SEC JTAG 位置：
       SEC JTAG 位于 SD 卡插槽处，与 SD 卡 CLK、DATA0~3 pin 复用；分别对应 SEC\_TCK、SEC\_TRSTn、SEC\_TDO、SEC\_TDI、SEC\_TMS
     - SEC JTAG 连接方式：
       由于 SD 卡槽封装的原因没有将 pin 暴露出来，因此建议自行制作转接小板或将 SD 卡槽拆除后根据位号图飞线连接
     - SEC JTAG 使用要求：
       使用 SEC JTAG 前，请先按照 MUSE Pi 用户使用指南 \> 硬件介绍 \> **Boot Download Sel&JTAG Sel** 的说明调整硬件。**参考链接**：[MUSE Pi 用户使用指南 - 硬件介绍](https://developer.spacemit.com/documentation?token=ZugWwIVmkiGNAik55hzc4C3Ln6d#part237)

3. **原理图中，有注释 "for test" 的器件，可以去掉的？**

   - 可以去掉。这些器件通常不是产品功能所必需的，而是为了在开发和测试阶段提供便利。

4. **有 K1 PCB 制板的说明可以参考走线的阻抗设计吗？**

   - 是的，您可以参考 **K1 芯片硬件设计指导手册**，其中包含详细的阻抗设计和走线规范说明。**参考链接**：[K1 芯片硬件设计指导手册](https://developer.spacemit.com/documentation?token=MIPtwRZ0SifetYkV5krcdRS9nPf#part45)

5. **K1 的 jtag 接口是用来调试什么的？**

   - 调试 CPU 的，可以用来下载程序，单步或断点调试 CPU 执行

## 电源系统

该部分主要解答与电源系统相关的常见问题，包括 DCIN、P1（多通道电源管理芯片）、电源域、DCDC、Battery、charger、电量计等问题

1. **P1 内置 RTC 精度是多少？**

   - P1 RTC 精度是 20 ppm

2. **休眠和关机时，哪些电源仍然供电？**

   - 在休眠模式下，以下电源被关闭：
     - Buck4、Buck3
     - ALDO0、ALDO1、ALDO2、ALDO3
     - DLDO0、DLDO1、DLDO2
   - 如果设备处于关机状态但未断开外部电源，**AONLDO**（Always-On LDO）仍会继续供电，以维持关键功能。

3. **K1 供电的磁珠能否省掉？**

   - 不能省掉。磁珠用于隔离模拟 PHY 供电和数字供电，确保供电的信号完整性和稳定性。如果省略磁珠，可能导致电源干扰，影响芯片性能。

4. **P1 上未使用的 LDO 能否被重新利用？**

   - 可以，但需要确保以下几点：
     - 检查 LDO 的默认输出电压是否符合具体应用需求。
     - 确保外设的耐压值能够承受该 LDO 输出的电压。

5. **关机状态下，如果定时时间到了，PMIC 能否自动开机？**

   - 可以自动开机。
     - PMIC 支持 RTC 闹钟开机功能。
     - 当定时时间到达时，P1 会直接启动，无需额外引出中断信号。

6. **当插入适配器时，P1 端口是否具备自动开机的功能？**

   - 当前方案设计为在插入适配器时，P1 会自动启动，无需手动操作。

7. **P1 上没有适配器的检测电路，如何判断适配器插入？**

   - 通过 P1 内部集成的检测机制完成判断。
     - P1 能够通过其内部电路检测到 VIN 的输入信号，从而触发开机操作。

8. **电池有电且处于关机状态时，插入适配器是否会自动开机？**

   - 不会自动开机。在这种情况下，插入适配器后，不会启动，需要通过按键手动开机。

9. **P1 能否直接使用 3.7V 电池供电？**

   - 可以。P1 能够直接通过 3.7V 电池供电

10. **P1 集成的 SW（开关），开关打开和关闭的时间是否可设置？**

    - 不可设置。P1 集成的开关在打开和关闭时的时间是固定的，无法进行调整。

11. **P1 集成的 SW（开关），为什么在未打开时也会导通？**

    - 已知设计问题，SW 未打开时通过 P1 SW 集成 MOS 管的体二极管导通，但通流能力非常弱。
    - 建议：正常使用时，为了确保设备的正常运行和性能，需打开 SW。

12. **P1 上电是否有直接输出的 LDO，即常开的 LDO？**

    - 有的。P1 上电时有一个集成的常开 LDO，即 AONLDO。这个 LDO 在 P1 上电时就会直接输出，默认输出电压为 1.8V

13. **是否可以将 ALDO 系列的 LDO 全部配置为 3.3V？并且在系统启动时迅速设定为 3.3V，以及在休眠状态下保持该 LDO 开启，以实现持续供电？**

    - 是的，可以将 ALDO 系列的 LDO 全部配置为 3.3V 输出。
    - 在系统启动时，可以通过快速配置在 spl 阶段将 ALDO 设置为 3.3V，这个过程大约需要 490 多毫秒。
    - 同时，在设备进入休眠状态时，可以选择保持 ALDO 开启，以确保关键电路的持续供电。

14. **P1 上的所有 LDO 的输出电压都是可以修改的吗？**

    - 是的，可以修改。可以根据实际需求自定义电压，但需要注意它们的默认开关状态和电压设置

15. **8 核 CPU 是否支持每个核心单独断电？**

    - 不支持每个 CPU 核单独断电，但支持每个 cluster 单独断电。

## 存储系统

该部分主要解答与存储系统相关的常见问题，包括 DRAM、EMMC、TF Card、SSD、SPI FLASH、EEPROM 等问题

1. **增加 EEPROM 的目的是什么？**
   - 用来做不同硬件板卡信息的识别，使得单一固件能够兼容多种不同的硬件配置。

## 时钟系统

该部分主要解答与时钟系统相关的常见问题，包括 DCXO、PLL 等问题

## 复位系统

该部分主要解答与复位系统相关的常见问题，如 Reset 的问题

## 显示系统

该部分主要解答与显示系统相关的常见问题，包括 MIPI DSI、HDMI 等问题

1. **DSI 用不到，需要供电吗？**
   - 即使不使用 DSI 模块，仍然需要供电。

## 音频系统

该部分主要解答与显示系统相关的常见问题，包括 Codec、Speaker、PA、MIC 等问题

## 摄像系统

该部分主要解答与摄像系统相关的常见问题，包括 MIPI CSI、USB 等问题

1. **CSI 用不到，需要供电吗？**
   - 即使不使用 CSI 模块，仍然需要供电。

## 网络系统

该部分主要解答与网络系统相关的常见问题，包括 Ethernet、Wifi、bt、4G、5G 等问题

1. **如果使用 100M 以太网，且 PHY 的供电电压只有 3.3V，该如何连接？**

   - 我们的 GMAC 不支持百兆 PHY，只支持千兆 PHY。
   - 建议使用千兆 PHY 进行连接。

2. **单网口应用，使用 GMAC0 或 GMAC1，是否影响软件应用？**

   - 不影响。无论使用 GMAC0 还是 GMAC1 进行单网口应用，都不会对软件功能产生任何影响。

## 外设及接口

该部分主要解答与外设及接口相关的常见问题，包括 USB、SPI、I2C、I2S、UART、PCIe、ADC、PWM、CAN、GPIO、Key、CTP、Sensor、LED 等问题

1. **K1 的所有 IO 都支持中断输入吗？**

   - 不是所有 IO 都支持中断输入。只有复用了 GPIO funtions 的 IO 才支持中断输入。

2. **GPIO90 是否只是开机时用于检测，之后可以作为普通 IO 使用？**

   - 是的，GPIO90 在开机时用于检测功能，之后可以作为普通 IO 引脚使用。

3. **K1 有 SATA 接口？**

   - K1 本身没有直接提供 SATA 接口。但支持通过 PCIe 转 SATA 接口的方式来扩展 SATA 功能，并且已经支持 ASM1061 和 JMB582 这两种转接卡

4. **USB2 口支持 OTG 吗**

   - 是的，USB2 口支持 OTG 功能，可以作为 OTG 接口使用，但不支持烧录。

5. **USB0 口在上电时是否默认作为设备（device）模式？除了下载固件，是否可以作为主机（host）使用？**

   - USB0 口在上电时默认作为设备（device）模式进行固件烧录。
   - 也支持主机（host）模式，用于其他 USB 设备的连接。

6. **使用 PCIe 转 SD 卡接口后，是否还支持 TF 卡烧录？**

   - 使用 PCIe 转 SD 卡接口时，不支持 TF 卡烧录。

7. **K1 是否支持 ADC 功能？**

   - K1 不支持 ADC 功能，但 P1 支持 ADC 功能。

8. **我看你们发的资料没有说明 can 引出的引脚位置呢，没有 can 的描述 / CAN 引脚的位置在哪？**

   - CAN 功能可以通过这几个引脚进行配置，方便调试：
     - GPIO75 和 GPIO76（位于 26 pin 接口的第 23pin 和第 24pin）
     - GPIO47 和 GPIO48（位于 26 pin 接口的第 8pin 和第 10pin）

9. **K1 芯片高速接口（如 USB、PCIe 等）在片内的损耗是多少 dB？**

   - K1 芯片片内损耗小于 1dB
   - 具体板级损耗控制范围，请参考各接口协议规范。

10. **MOS 管电平转换时，为什么要多加一个二极管？**

    - 添加二极管是为了降低 3.3V 侧拉低时，1.8V 侧到 3.3V 侧的压降，避免可能的可靠性问题。
    - 根据实际经验，这个二极管不是必须的。在后续的笔电产品中都没有添加这个二极管。

11. **pcie2.1 x2，2Lane，我用其中 1lane，是任意选吗？**

    - 不是，pcie2.1 x2 要配置为 1lane，需使用 TX0N/P，RX0N/P 组

12. **QSPI 接口所在的 GPIO98~GPIO103 IO，如果用来连接串口设备，设计上有没有要注意的地方？**

    - 优先使用 GPIO102/103 的 UART5；只有在初始状态确定的情况下，才使用 GPIO98~GPIO101 的 UART，因为 GPIO98~GPIO101 有 strip pin 功能，初始状态决定了启动顺序、下载模式和下载接口。

13. **电平转换电路有必要增加一个二极管吗？**

    - 可以不需要

## 可靠性

该部分主要解答与可靠性相关的常见问题，包括 ESD、高低温、湿度、寿命、EMI 等问题

## 产品认证

该部分主要解答与产品认证相关的常见问题，包括 RoHS、CE、3C、FCC 等问题

## 其他

该部分主要解答暂无归类的常见问题，包括 PCB、结构、功耗、散热措施、表面温度等问题

1. **K1 休眠的功耗是多少？**

   - 关于 K1 芯片在休眠状态下的功耗情况，目前可以做到 28mW
   
2. **K1 的单端和差分线阻抗控制要求是什么？**

   - 对于单端线，K1 要求阻抗控制在 50Ω。
   - 对于差分线，建议阻抗控制在 90Ω。

3. **K1 差分阻抗控制必须 90Ω 吗？**

   - DDR 接口的差分线阻抗必须控制在 90Ω。
   - 对于其他差分线，阻抗可以控制在 90Ω 或 100Ω 之间。

4. MuseN1 cpu 下面放了很多电容，MusePi 很少

   - MuseN1 是根据 SOC 扇出区域的实际情况优化的，扇出的信号少了，背面有空放置更多电容, 因此可以放置更多电容。
   - 相比之下，MusePi 全部信号都引出来了，因此背面空间有限，不能放置。但经过仿真和测试验证，这种设计是合理且可靠的。
